# Definitions of variables

CC      = gcc
CCFLAGS = -DMKL_ILP64 -m64 -I/home/nathan/intel/mkl/include
LD      = gcc
LDFLAGS = -fopenmp -lpthread


# Definitions of rules
dgemm_test.x : dgemm_test.o
	$(LD) \
	-o dgemm_test.x \
	dgemm_test.o \
	-Wl,--start-group \
	/opt/intel/mkl/lib/intel64/libmkl_intel_ilp64.a \
	/opt/intel/mkl/lib/intel64/libmkl_gnu_thread.a \
	/opt/intel/mkl/lib/intel64/libmkl_core.a \
	-Wl,--end-group \
	-ldl -lm -lpthread -lgomp	


dgemm_test.o : dgemm_test.c
	$(CC) -c dgemm_test.c \
	-DMKL_ILP64 -m64 -I/opt/intel/mkl/include

clean : FORCE
	rm -f a.out *.x *.o *~ core

FORCE :
